# Social Budget Tracker API v1.0

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **Base URL**: `http://127.0.0.1:5000/api`
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: JSON
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (Bearer token)
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤
`POST /auth/login`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ access/refresh —Ç–æ–∫–µ–Ω–æ–≤.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "username": "string (required)",
  "password": "string (required)"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "user_id": 1,
  "username": "testuser"
}
```

#### –û—à–∏–±–∫–∏:
400 - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
401 - –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞
`POST /auth/refresh`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ access —Ç–æ–∫–µ–Ω–∞ –ø–æ refresh —Ç–æ–∫–µ–Ω—É.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:

```text
Authorization: Bearer <refresh_token>
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):

```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
}
```

### –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
`POST /auth/logout`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è refresh —Ç–æ–∫–µ–Ω–∞ (–∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —É–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω—ã).

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:

```text
Authorization: Bearer <refresh_token>
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):

```json
{
  "message": "–£—Å–ø–µ—à–Ω—ã–π –≤—ã—Ö–æ–¥. –£–¥–∞–ª–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.",
  "note": "Access —Ç–æ–∫–µ–Ω –∏—Å—Ç–µ—á–µ—Ç —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç, refresh —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π"
}
```

## üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
`GET /profile`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:

```text
Authorization: Bearer <access_token>
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):

```json
{
  "user": {
    "id": 1,
    "username": "testuser",
    "email": "user@example.com",
    "created_at": "2025-12-30 10:00:00"
  }
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

`PUT /profile`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:

```text
Authorization: Bearer <access_token>
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "username": "string (optional, 3-20 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã/—Ü–∏—Ñ—Ä—ã)",
  "email": "string (optional, valid email format)"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):

```json
{
  "user": {
    "id": 1,
    "username": "newname",
    "email": "new@example.com",
    "created_at": "2025-12-30 10:00:00"
  }
}
```

#### –û—à–∏–±–∫–∏:
400 - –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
409 - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ email —É–∂–µ –∑–∞–Ω—è—Ç—ã

### –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
`PUT /profile/password`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:

```text
Authorization: Bearer <access_token>
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "current_password": "string (required)",
  "new_password": "string (required, min 6 —Å–∏–º–≤–æ–ª–æ–≤, —Ö–æ—Ç—è –±—ã 1 —Ü–∏—Ñ—Ä–∞)"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):
```json
{
  "message": "–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω"
}
```

#### –û—à–∏–±–∫–∏:
401 - –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å
400 - –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

## üí∞ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
`GET /transactions`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
```text
Authorization: Bearer <access_token>
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):
```json
{
  "count": 15,
  "transactions": [
    {
      "id": 1,
      "amount": 1500.50,
      "type": "income",
      "description": "–ó–∞—Ä–ø–ª–∞—Ç–∞",
      "date": "2025-12-30 10:00:00",
      "category": "–ó–∞—Ä–ø–ª–∞—Ç–∞"
    }
  ]
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
`POST /transactions`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
```text
Authorization: Bearer <access_token>
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "amount": "number (required, positive)",
  "type": "string (required, 'income' –∏–ª–∏ 'expense')",
  "description": "string (required)",
  "category_id": "integer (required, ID —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)",
  "date": "string (optional, —Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD –∏–ª–∏ YYYY-MM-DD HH:MM:SS)"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):
```json
{
  "message": "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞",
  "transaction": {
    "id": 25,
    "amount": 1500.50,
    "description": "–ó–∞—Ä–ø–ª–∞—Ç–∞",
    "date": "2025-12-30 10:00:00"
  }
}
```

#### –û—à–∏–±–∫–∏:
400 - –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
400 - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ç–µ—Ä–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
`GET /transactions/{id}`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**:
id - ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (integer)

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
```text
Authorization: Bearer <access_token>
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):
```json
{
  "transaction": {
    "id": 1,
    "amount": 1500.50,
    "type": "income",
    "description": "–ó–∞—Ä–ø–ª–∞—Ç–∞",
    "date": "2025-12-30 10:00:00",
    "category": "–ó–∞—Ä–ø–ª–∞—Ç–∞"
  }
}
```

#### –û—à–∏–±–∫–∏:
404 - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
403 - –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
`PUT /transactions/{id}`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**:
id - ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (integer)

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
```text
Authorization: Bearer <access_token>
Content-Type: application/json
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
```json
{
  "amount": "number (optional, positive)",
  "type": "string (optional, 'income' –∏–ª–∏ 'expense')",
  "description": "string (optional)",
  "category_id": "integer (optional, ID —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)",
  "date": "string (optional, —Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD –∏–ª–∏ YYYY-MM-DD HH:MM:SS)"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):
```json
{
  "message": "–û–±–Ω–æ–≤–ª–µ–Ω–æ",
  "transaction": {
    "id": 1,
    "amount": 1600.00,
    "type": "income",
    "description": "–ó–∞—Ä–ø–ª–∞—Ç–∞ —Å –ø—Ä–µ–º–∏–µ–π",
    "date": "2025-12-30 10:00:00",
    "category": "–ó–∞—Ä–ø–ª–∞—Ç–∞"
  }
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
`DELETE /transactions/{id}`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**:
id - ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (integer)

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
```text
Authorization: Bearer <access_token>
```

#### –£—Å–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (204):
No Content

#### –û—à–∏–±–∫–∏:
404 - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
403 - –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

## üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
`GET /categories`

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
```text
Authorization: Bearer <access_token>
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):
```json
{
  "count": 12,
  "categories": [
    {
      "id": 1,
      "name": "–ï–¥–∞"
    },
    {
      "id": 2,
      "name": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç"
    }
  ]
}
```

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "error": {
    "code": 400,
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
    "details": {
      "field": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
    }
  }
}
```

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫:
400 - Bad Request (–Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
401 - Unauthorized (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω/–Ω–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
403 - Forbidden (–Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞)
404 - Not Found (—Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω)
409 - Conflict (–∫–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–º—è —É–∂–µ –∑–∞–Ω—è—Ç–æ)
500 - Internal Server Error (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
* –í—Å–µ –ø–∞—Ä–æ–ª–∏ —Ö—ç—à–∏—Ä—É—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º bcrypt
* JWT —Ç–æ–∫–µ–Ω—ã –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏:
** Access token: 15 –º–∏–Ω—É—Ç
** Refresh token: 7 –¥–Ω–µ–π
* –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏) –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
* –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä  –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:
* user_id
* endpoint
* method
* IP –∞–¥—Ä–µ—Å
* user_agent
* timestamp

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: 31.12.2025*
*–í–µ—Ä—Å–∏—è API: 1.0*