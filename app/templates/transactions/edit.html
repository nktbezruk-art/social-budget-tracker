{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <h1 class="mb-4">Редактирование транзакции</h1>
        
        <form method="post" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            
            <div class="mb-3">
                {{ form.amount.label(class="form-label") }}
                {{ form.amount(class="form-control", placeholder="Величина") }}
                {% for error in form.amount.errors %}
                <div class="text-danger small">[{{ error }}]</div>
                {% endfor %}
            </div>
            
            <div class="mb-3">
                {{ form.type.label(class="form-label") }}
                {{ form.type(class="form-select") }}
                {% for error in form.type.errors %}
                <div class="text-danger small">[{{ error }}]</div>
                {% endfor %}
            </div>
            
            <div class="mb-3">
                {{ form.description.label(class="form-label") }}
                {{ form.description(class="form-control") }}
                {% for error in form.description.errors %}
                <div class="text-danger small">[{{ error }}]</div>
                {% endfor %}
            </div>
            
            <div class="mb-3">
                {{ form.category_id.label(class="form-label") }}
                {{ form.category_id(class="form-select") }}
                {% for error in form.category_id.errors %}
                <div class="text-danger small">[{{ error }}]</div>
                {% endfor %}
            </div>
            
            <div class="mb-3">
                {{ form.date.label(class="form-label") }}
                {{ form.date(class="form-control") }}
                {% for error in form.date.errors %}
                <div class="text-danger small">[{{ error }}]</div>
                {% endfor %}
            </div>
            
            <div class="mb-3">
                {{ form.receipt_image.label(class="form-label") }}
                {{ form.receipt_image(class="form-control") }}
                {% if transaction and transaction.image_filename %}
                <div class="form-text">
                    Текущее изображение: {{ transaction.image_filename }}
                </div>
                {% endif %}
                {% for error in form.receipt_image.errors %}
                <div class="text-danger small">[{{ error }}]</div>
                {% endfor %}
            </div>
            
            <button type="submit" class="btn btn-primary">Сохранить изменения</button>
        </form>
    </div>
</div>
{% endblock %}